companies:
  type: pandas.CSVDataSet
  filepath: data/01_raw/companies.csv
  layer: raw

reviews:
  type: pandas.CSVDataSet
  filepath: data/01_raw/reviews.csv
  layer: raw

shuttles:
  type: pandas.ExcelDataSet
  filepath: data/01_raw/shuttles.xlsx
  layer: raw
  load_args:
    engine: openpyxl
    nrows: 200

int_typed_companies:
  type: pandas.ParquetDataSet
  filepath: data/02_intermediate/typed_companies.pq
  layer: intermediate

int_typed_shuttles:
  type: pandas.ParquetDataSet
  filepath: data/02_intermediate/typed_shuttles.pq
  layer: intermediate

int_typed_reviews:
  type: pandas.ParquetDataSet
  filepath: data/02_intermediate/typed_reviews.pq
  layer: intermediate

prm_agg_companies:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/prm_agg_companies.pq
  layer: intermediate

prm_shuttle_company_reviews:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/prm_shuttle_company_reviews.pq
  layer: primary

prm_spine_table:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/prm_spine_table.pq
  layer: primary

feature_engineering.weighting.feat_weighted_metrics:
  type: pandas.ParquetDataSet
  filepath: data/04_feature/feat_weighted_metrics.pq
  layer: feature

feature_engineering.scaling.feat_scaled_metrics:
  type: pandas.ParquetDataSet
  filepath: data/04_feature/feat_scaled_metrics.pq
  layer: feature

model_input_table:
  type: pandas.ParquetDataSet
  filepath: data/05_model_input/model_input_table.pq
  layer: model_input

price_histogram:
  type: plotly.PlotlyDataSet
  filepath: data/08_reporting/price_histogram.json
  layer: reporting
  plotly_args:
    type: histogram
    fig:
      x: price
      color: engine_type

cancellation_policy_breakdown:
  type: plotly.PlotlyDataSet
  filepath: data/08_reporting/cancellation_breakdown.json
  layer: reporting
  plotly_args:
    type: bar
    fig:
      x: company_location
      y: price
      color: cancellation_policy
      log_y: True
      labels:
        price: 'fleet_price'
  
r2_score_linear:
  type: tracking.MetricsDataSet
  filepath: data/09_tracking/linear_score.json

r2_score_random_forest:
  type: tracking.MetricsDataSet
  filepath: data/09_tracking/rf_score.json

hyperparams_linear:
  type: tracking.JSONDataSet
  filepath: data/09_tracking/linear_params.json

hyperparams_random_forest:
  type: tracking.JSONDataSet
  filepath: data/09_tracking/rf_params.json
